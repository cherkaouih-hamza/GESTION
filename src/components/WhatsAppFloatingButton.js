import React from 'react';
import '../styles/WhatsAppFloatingButton.css';

const WhatsAppFloatingButton = () => {
  const handleWhatsAppClick = () => {
    // Numéro de téléphone WhatsApp spécifié
    const phoneNumber = "212706954855"; // Numéro +212706954855 sans le +
    const message = encodeURIComponent("السلام عليكم، أحتاج إلى مساعدة بشأن نظام المتابعة والإعلام.");
    const whatsappUrl = `https://wa.me/${phoneNumber}?text=${message}`;

    window.open(whatsappUrl, '_blank');
  };

  return (
    <div className="whatsapp-float-button-container">
      <button 
        onClick={handleWhatsAppClick}
        className="whatsapp-float-button flex items-center justify-center w-16 h-16 rounded-full shadow-lg bg-green-500 hover:bg-green-600 text-white fixed bottom-6 left-6 z-50 transition-transform transform hover:scale-105"
        aria-label="تواصل مع الإدارة عبر الواتساب"
      >
        <svg 
          className="w-8 h-8" 
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path 
            d="M17.125 15.917C16.833 15.786 15.625 15.214 15.417 15.143C15.208 15.071 15.031 15.036 14.813 15.25C14.625 15.464 14.063 16.036 13.938 16.179C13.813 16.321 13.688 16.357 13.5 16.25C13.313 16.143 12.625 15.917 11.781 15.125C10.813 14.214 10.156 13.214 10.031 13C9.906 12.786 9.938 12.625 10.063 12.5C10.188 12.375 10.344 12.25 10.5 12.107C10.656 11.964 10.719 11.857 10.813 11.714C10.906 11.571 10.875 11.464 10.813 11.357C10.75 11.25 10.219 9.929 10.031 9.464C9.844 9 9.688 9.036 9.563 9.036C9.438 9.036 9.313 9.036 9.188 9.036C9.063 9.036 8.875 9.071 8.688 9.286C8.5 9.5 7.938 10.107 7.75 10.321C7.563 10.536 7.375 10.571 7.188 10.571C6.938 10.5 5.781 10.071 5.313 9.893C4.781 9.714 4.25 9.679 3.875 9.679C3.5 9.679 2.813 9.75 2.25 10.357C1.688 10.964 1.375 11.75 1.375 12.75C1.375 14.714 3 17.393 5.5 18.893C8 20.393 10.875 20.393 12.125 20.393C13.375 20.393 16.063 19.643 17.313 17.107C17.688 16.429 17.875 15.917 17.875 15.571C17.875 15.321 17.813 15.214 17.125 15.917ZM18.75 15.143C19.438 16.143 20 17.5 19.5 18.893C19 20.286 17.625 21.393 16.125 21.893C14.625 22.393 13 22.393 11.5 22.393C10 22.393 6.5 22.393 3.125 20.107C-0.25 17.821 -0.25 14.5 -0.188 14.393C-0.125 14.286 0.75 13 2.375 11.5C2.375 11.5 2.563 11.321 2.625 11.25C3.313 10.5 4.063 10.036 4.875 9.929C5.063 9.929 5.313 9.857 5.75 9.857C6.188 10.5 7.063 11 7.875 11.429L9.813 10.071C9.875 9.893 10 9.5 9.75 9.25C9.5 9 9.125 8.929 8.875 8.929C8.625 8.857 8.25 8.821 7.813 8.821C7.375 8.821 6.5 8.893 5.313 9.679C4.125 10.464 2.125 12.321 2.625 15.393C3.125 18.464 5.25 20.393 8.125 21.393C11 22.393 14.5 22.393 16 22.393C17.5 22.393 18.563 21.893 19.313 21.25C20.063 20.607 20.813 19.5 20.313 17.821C19.813 16.143 18.75 15.143 18.75 15.143ZM15.125 17.179L14.688 16.857C14.5 16.714 14.5 16.464 14.688 16.321L15.125 16C15.313 15.857 15.563 15.857 15.75 16L16.125 16.321C16.313 16.464 16.313 16.714 16.125 16.857L15.75 17.179C15.563 17.321 15.313 17.321 15.125 17.179Z" 
            fill="currentColor"
          />
          <path 
            d="M16.875 15.143C17.063 14.964 17.375 15 17.563 15.179L18.5 16.036C18.688 16.214 18.688 16.5 18.5 16.679L17.875 17.321C17.875 17.321 17.625 17.571 17.125 17.321C16.625 17.071 16.313 16.679 16.313 16.679C16.125 16.5 16.125 16.214 16.313 16.036L16.875 15.143Z" 
            fill="currentColor"
          />
        </svg>
      </button>
      
      <div className="whatsapp-text fixed bottom-24 left-8 bg-gray-800 text-white text-xs py-1 px-3 rounded-lg shadow-lg z-40 opacity-0 hover:opacity-100 transition-opacity duration-300">
        تواصل مع الإدارة عبر الواتساب
      </div>
    </div>
  );
};

export default WhatsAppFloatingButton;